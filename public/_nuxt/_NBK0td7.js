import{J as v,K as u,L as B,M as L,N as R,m as w,O as S,o as x,c as $,a as p,t as _,p as l,d as j,b as m,s as F}from"./DX4Xkoew.js";import{u as N}from"./D-04LOnm.js";import{u as P,a as I}from"./CxWA46mS.js";function K(r,s,i){const[t={},n]=[{},s],e=v(()=>u(r)),o=t.key||B([n,typeof e.value=="string"?e.value:"",...M(t)]);if(!o||typeof o!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+o);const c=o===n?"$f"+o:o;if(!t.baseURL&&typeof e.value=="string"&&e.value[0]==="/"&&e.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:d,lazy:C,default:k,transform:A,pick:D,watch:g,immediate:O,getCachedData:E,deep:T,dedupe:V,...q}=t,h=L({...R,...q,cache:typeof t.cache=="boolean"?void 0:t.cache}),U={server:d,lazy:C,default:k,transform:A,pick:D,immediate:O,getCachedData:E,deep:T,dedupe:V,watch:g===!1?[]:[h,e,...g||[]]};let a;return N(c,()=>{var b;(b=a==null?void 0:a.abort)==null||b.call(a,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),a=typeof AbortController<"u"?new AbortController:{};const y=u(t.timeout);let f;return y&&(f=setTimeout(()=>a.abort(new DOMException("Request aborted due to timeout.","AbortError")),y),a.signal.onabort=()=>clearTimeout(f)),(t.$fetch||globalThis.$fetch)(e.value,{signal:a.signal,...h}).finally(()=>{clearTimeout(f)})},U)}function M(r){var i;const s=[((i=u(r.method))==null?void 0:i.toUpperCase())||"GET",u(r.baseURL)];for(const t of[r.params||r.query]){const n=u(t);if(!n)continue;const e={};for(const[o,c]of Object.entries(n))e[u(o)]=u(c);s.push(e)}return s}const J={class:"text-gray:80 text-2xl"},z={"font-500":"","text-gray":""},G={"text-gray":""},H=w({__name:"PageView",async setup(r){var o;let s,i;const{data:t}=([s,i]=S(()=>K("/api/pageview","$KCIBJSUiAg")),s=await s,i(),s),n=P(v(()=>{var c;return(c=t.value)==null?void 0:c.startAt})),e=(o=t.value)==null?void 0:o.pageview;return(c,d)=>(x(),$("div",J,[p("span",z,_(l(e)),1),d[0]||(d[0]=j(" page views since ")),p("span",G,_(l(n)),1)]))}}),Q=Object.assign(H,{__name:"PageView"}),W={class:"card"},X={class:"grid grid-cols-3 w-80 mt-8"},Y={class:"text-4xl"},nt=w({__name:"server",setup(r){const s=I();return(i,t)=>{const n=Q,e=F;return x(),$("div",W,[t[2]||(t[2]=p("h2",null,"Server API Usage",-1)),m(n),t[3]||(t[3]=p("h2",null,"Counter (useState)",-1)),p("div",X,[m(e,{icon:"pi pi-plus",class:"p-button-rounded p-button-info",onClick:t[0]||(t[0]=o=>l(s).inc())}),p("span",Y,_(l(s).count),1),m(e,{icon:"pi pi-minus",class:"p-button-rounded p-button-success",onClick:t[1]||(t[1]=o=>l(s).dec())})])])}}});export{nt as default};
