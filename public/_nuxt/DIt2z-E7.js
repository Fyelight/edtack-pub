import{o as r,c as o,a as s,F as h,y as m,d as p,t as u,P as z,E as w,b as S,G as _,q as A,v as b,x as v,z as L,A as C}from"./DX4Xkoew.js";import{_ as f}from"./DlAUqK2U.js";import{u as k}from"./YNNEtX62.js";const Q={props:{question:Object,questionIndex:Number,selectedAnswer:String},data(){return{content:"",explanation:null}},methods:{selectAnswer(i){this.$emit("answer-selected",i)},toggleExplain(){this.explanation?this.explanation=null:this.explanation=this.question.explanation}},created(){this.content=this.question.title.replace(/\n/g,"<br />")}},j={class:"question"},H=["innerHTML"],x=["innerHTML"],I={key:1,class:"explanation"},E=["value","name","checked","onChange"];function P(i,e,c,g,n,l){return r(),o("div",j,[s("div",{innerHTML:n.content},null,8,H),s("div",{class:"explanation",onClick:e[0]||(e[0]=(...d)=>l.toggleExplain&&l.toggleExplain(...d))},[n.explanation?(r(),o("div",{key:0,innerHTML:n.explanation},null,8,x)):(r(),o("span",I,"Explain"))]),(r(!0),o(h,null,m(c.question.options,(d,t)=>(r(),o("div",{key:t},[s("label",null,[s("input",{type:"radio",value:d,name:"question-"+c.questionIndex,checked:c.selectedAnswer===d,onChange:a=>l.selectAnswer(d)},null,40,E),p(" "+u(d),1)])]))),128))])}const M=Object.assign(f(Q,[["render",P],["__scopeId","data-v-ca0f1046"]]),{__name:"ChallengeQuizQuestion"}),G={components:{QuizQuestion:M},props:{quiz:{type:Object}},data(){return{questions:this.quiz,questions2:[{id:1,title:"Which of the following is a characteristic of living organisms?",options:["Reproduction","Nutrition","Excretion","All of the above"],correctAnswer:"All of the above"},{id:2,title:"What is the function of the cell membrane?",options:["To regulate the movement of substances into and out of the cell","To synthesize proteins","To store genetic information","To carry out respiration"],correctAnswer:"To regulate the movement of substances into and out of the cell"}],userAnswers:[],quizFinished:!1,score:0,name:(this._.provides[z]||this.$route).query.name}},methods:{submitQuiz(){this.quizFinished=!0,this.calculateScore()},updateAnswer(i,e){this.userAnswers[i]=e},isCorrect(i){return this.userAnswers[i]+""===this.questions[i].correctAnswer},calculateScore(){this.score=this.userAnswers.reduce((i,e,c)=>i+(e===this.questions[c].correctAnswer?1:0),0)},restartQuiz(){this.userAnswers=[],this.score=0,this.quizFinished=!1},getOptionStyle(i,e,c){return i===e?{color:"green",fontWeight:"bold"}:i===c?{color:"red",fontWeight:"bold"}:{}}}},T={class:"quiz-container"},B={key:0},N={key:1},V={key:0},F={key:1,style:{color:"green"}},O={key:2,style:{color:"red"}};function W(i,e,c,g,n,l){const d=w("QuizQuestion");return r(),o("div",T,[s("h1",null,u(n.name),1),n.quizFinished?(r(),o("div",N,[e[6]||(e[6]=s("h3",null,"Results",-1)),(r(!0),o(h,null,m(n.questions,(t,a)=>(r(),o("div",{key:a},[s("p",null,[e[2]||(e[2]=s("strong",null,"Question:",-1)),p(" "+u(t.title),1)]),(r(!0),o(h,null,m(t.options,(y,q)=>(r(),o("div",{key:q},[s("p",{style:_(l.getOptionStyle(y,t.correctAnswer,n.userAnswers[a]))},[s("strong",null,u(y),1)],4)]))),128)),s("p",null,[e[3]||(e[3]=s("strong",null,"Your Answer:",-1)),p(" "+u(n.userAnswers[a]||"Not Answered"),1)]),s("p",null,[e[4]||(e[4]=s("strong",null,"Correct Answer:",-1)),p(" "+u(t.correctAnswer),1)]),l.isCorrect(a)?A("",!0):(r(),o("p",V,[e[5]||(e[5]=s("strong",null,"Explanation:",-1)),p(" "+u(t.explanation),1)])),l.isCorrect(a)?(r(),o("p",F," Correct! Well done! ")):(r(),o("p",O," Incorrect. Better luck next time! "))]))),128)),s("div",null,[s("h4",null,"Your Score: "+u(n.score)+" / "+u(n.questions.length),1)]),s("button",{onClick:e[1]||(e[1]=(...t)=>l.restartQuiz&&l.restartQuiz(...t))},"Try Again")])):(r(),o("div",B,[(r(!0),o(h,null,m(n.questions,(t,a)=>(r(),o("div",{key:a,class:"question"},[S(d,{question:t,questionIndex:a,selectedAnswer:n.userAnswers[a],onAnswerSelected:y=>l.updateAnswer(a,y)},null,8,["question","questionIndex","selectedAnswer","onAnswerSelected"])]))),128)),s("button",{onClick:e[0]||(e[0]=(...t)=>l.submitQuiz&&l.submitQuiz(...t))},"Submit Quiz")]))])}const J=Object.assign(f(G,[["render",W],["__scopeId","data-v-38bab687"]]),{__name:"ChallengeQuizPage"}),R={components:{QuizPage:J},data(){return{quiz:null,isLoading:!1,selectedLevel:"",selectedInnerLvl:null,selectedSubject:"",numberInput:null,levels:["Primary","Secondary","Junior College"],primaryLvls:[1,2,3,4,5,6],secondaryLvls:[1,2,3,4],jcLvls:[1,2],subjects:["Math","Science","English","History","Geography"],primarySubjects:["Math","Science","English"],secondarySubjects:["E Math","A Math","Physics","Chemistry","Biology","Combined Physics","Combined Chemistry","Combined Biology","English","History","Geography","Social Studies","Combined History","Combined Geography","Combined Social Studies"],jcSubjects:["H1 Math","H2 Math","H1 Physics","H2 Physics","H1 Chemistry","H2 Chemistry","H1 Biology","H2 Biology","H1 General Paper","H1 History","H2 History","H1 Geography","H2 Geography","H1 Economics","H2 Economics"],format:` using this JSON schema:
                QuizQuestion = {'id': string, 'title': string, 'options': Array, 'correctAnswer': string}
                Return: Array<QuizQuestion>`}},computed:{filteredInnerLevels(){switch(this.selectedLevel){case"Primary":return this.primaryLvls;case"Secondary":return this.secondaryLvls;case"Junior College":return this.jcLvls;default:return[]}},filteredSubjects(){switch(this.selectedLevel){case"Primary":return this.primarySubjects;case"Secondary":return this.secondarySubjects;case"Junior College":return this.jcSubjects;default:return[]}}},methods:{createPrompt(i,e,c,g){return`You are an expert teacher skilled in producing detailed, authentic, and correct student examination questions.
        For the Singapore syllabus, how would you create ${i} MCQ questions of 5 options without the alphabet index of about ${e} ${c} ${g}, with varying difficulties.
        Make it so there are matching options such as "statement 1, 2, 3 are true" or "all of the above are true" type of questions and give detailed steps on how to
        achieve the correct solution. Give the correct answer option in full.`},async fetchAnswer(){this.isLoading=!0,this.quiz="";const i=this.createPrompt(this.numberInput,this.selectedLevel,this.selectedInnerLvl,this.selectedSubject);try{this.quiz=await k(i)}catch(e){console.error("Error fetching quiz:",e),this.quiz="An error occurred while generating the quiz."}finally{this.isLoading=!1}}}},U={class:"form-group"},Y=["value"],D=["value"],K={class:"form-group"},X=["value"],Z={class:"form-group"},$=["disabled"],ee={key:0,class:"mb-10"};function te(i,e,c,g,n,l){const d=w("QuizPage");return r(),o(h,null,[e[11]||(e[11]=s("h1",{class:"mb-5"}," Generate Challenge ",-1)),s("form",{class:"mb-5",onSubmit:e[4]||(e[4]=C((...t)=>l.fetchAnswer&&l.fetchAnswer(...t),["prevent"]))},[s("div",U,[e[7]||(e[7]=s("label",{for:"level"},"Select Level",-1)),b(s("select",{id:"level","onUpdate:modelValue":e[0]||(e[0]=t=>n.selectedLevel=t),class:"form-control"},[e[5]||(e[5]=s("option",{value:"",disabled:""}," Select Level ",-1)),(r(!0),o(h,null,m(n.levels,t=>(r(),o("option",{key:t,value:t},u(t),9,Y))),128))],512),[[v,n.selectedLevel]]),b(s("select",{id:"innerLevel","onUpdate:modelValue":e[1]||(e[1]=t=>i.selectedInnerLevel=t),class:"form-control"},[e[6]||(e[6]=s("option",{value:"",disabled:""}," Select Level ",-1)),(r(!0),o(h,null,m(l.filteredInnerLevels,t=>(r(),o("option",{key:t,value:t},u(t),9,D))),128))],512),[[v,i.selectedInnerLevel]])]),s("div",K,[e[9]||(e[9]=s("label",{for:"subject"},"Select Subject",-1)),b(s("select",{id:"subject","onUpdate:modelValue":e[2]||(e[2]=t=>n.selectedSubject=t),class:"form-control"},[e[8]||(e[8]=s("option",{value:"",disabled:""}," Select Subject ",-1)),(r(!0),o(h,null,m(l.filteredSubjects,t=>(r(),o("option",{key:t,value:t},u(t),9,X))),128))],512),[[v,n.selectedSubject]])]),s("div",Z,[e[10]||(e[10]=s("label",{for:"numberInput"},"Enter the desired number of questions",-1)),b(s("input",{id:"numberInput","onUpdate:modelValue":e[3]||(e[3]=t=>n.numberInput=t),type:"number",class:"form-control",min:"1",placeholder:"Enter a number"},null,512),[[L,n.numberInput]])]),s("button",{type:"submit",disabled:!n.selectedLevel||!n.selectedSubject||!n.numberInput||n.isLoading},u(n.isLoading?"Asking Gemini...":"Ask"),9,$)],32),n.quiz?(r(),o("div",ee,[S(d,{quiz:n.quiz},null,8,["quiz"])])):A("",!0)],64)}const oe=f(R,[["render",te],["__scopeId","data-v-409b4f5c"]]);export{oe as default};
